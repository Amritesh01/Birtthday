@import url('https://fonts.googleapis.com/css2?family=Amita:wght@400;700&family=Pacifico&display=swap');

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;touch-action:none}
* {
  -webkit-user-select: none;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
}
body{
  font-family:"Pacifico",sans-serif;
  background: radial-gradient(ellipse at center, #2a0a29 0%, #160412 60%);
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  perspective:1000px;
  color:#fff;
}

/* --- COVER + GIFT --- */
.cover{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:999;
  pointer-events:auto;
}

.sparkles{
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at 10% 20%, rgba(255,255,255,0.03), transparent 8%),
    radial-gradient(circle at 80% 70%, rgba(255,255,255,0.02), transparent 10%);
  animation: slowShift 12s linear infinite;
  filter: blur(2px);
  z-index:0;
}
@keyframes slowShift{ from{transform:translateY(-3%)} to{transform:translateY(3%)} }

.gift-container{
  z-index:2;
  text-align:center;
  transform-style:preserve-3d;
}

.hint{
  margin-top:18px;
  font-size:18px;
  opacity:.92;
  color: #ffd9ea;
  text-shadow: 0 3px 12px rgba(0,0,0,0.6);
}

/* Gift build (simple cube + lid + ribbons + bow) */
.gift{
  width:200px;
  height:200px;
  position:relative;
  margin:0 auto;
  transform-style:preserve-3d;
  transform: translateZ(0);
  cursor:pointer;
  transition: transform .3s cubic-bezier(.2,.9,.3,1);
}
.gift:hover{ transform: translateY(-8px) scale(1.02) }

.box{
  position:absolute;
  width:100%;
  height:100%;
  transform-style:preserve-3d;
  transform: translateZ(-12px);
  transition: transform .5s ease;
}
.box .front, .box .left, .box .right, .box .back{
  position:absolute; width:100%; height:100%; background:linear-gradient(180deg,#ff4b5c,#b6051a);
  border:6px solid rgba(255,255,255,0.12);
  border-radius:8px;
  box-shadow: 0 18px 40px rgba(0,0,0,0.6), inset 0 -6px 18px rgba(0,0,0,0.18);
}
.box .left{ transform: rotateY(90deg) translateZ(100px); width:200px; left:-100px }
.box .right{ transform: rotateY(-90deg) translateZ(100px); width:200px; right:-100px }
.box .back{ transform: rotateY(180deg) translateZ(0px) }

/* Lid */
.lid{
  position:absolute;
  width:220px;
  height:52px;
  left:50%;
  top:-18px;
  transform: translateX(-50%) translateZ(110px);
  background:linear-gradient(180deg,#ffd28a,#ffb700);
  border-radius:8px;
  box-shadow: 0 14px 30px rgba(0,0,0,0.5), inset 0 -4px 12px rgba(0,0,0,0.12);
  transform-origin: center bottom;
  transition: transform 800ms cubic-bezier(.2,.9,.3,1), top 700ms;
  z-index:3;
  border: 4px solid rgba(255,255,255,0.16);
}

/* Ribbons and bow */
.ribbon{
  position:absolute;
  background:linear-gradient(180deg,#ffdb5e,#ff8b00);
  border-radius:2px;
  z-index:4;
}
.ribbon.horizontal{
  height:18px;width:220px;left:50%;top:92px;transform:translateX(-50%);box-shadow:0 6px 14px rgba(0,0,0,0.4)
}
.ribbon.vertical{
  width:18px;height:220px;left:96px;top: -10px;transform:translateZ(120px)
}
.bow{
  position:absolute;left:50%;top:12px;transform:translateX(-50%) translateZ(140px);
  width:44px;height:44px;border-radius:50%;
  background: radial-gradient(circle at 35% 25%, #fff6c9 0%, #ffdb5e 12%, #ff8b00 70%);
  box-shadow:0 8px 20px rgba(0,0,0,0.45);
  z-index:5;
}

/* Idle glow & bounce */
.gift{ animation: idleFloat 2.6s ease-in-out infinite; }
@keyframes idleFloat {
  0%{ transform: translateY(0) }
  50%{ transform: translateY(-6px) scale(1.01) }
  100%{ transform: translateY(0) }
}

/* Opening states */
.gift.open .lid{
  transform: translateX(-50%) translateZ(160px) rotateX(-65deg) rotateY(-6deg);
  top:-56px;
}
.gift.open .box{ transform: translateZ(-28px) scale(.98) }

/* Fade out the cover after reveal */
.cover.fade-out{
  animation: coverFade .8s ease forwards;
  pointer-events:none;
}
@keyframes coverFade{ to{ opacity:0; visibility:hidden } }

/* Confetti overlay adjustments */
canvas#canvas{ position:fixed; inset:0; z-index:50; pointer-events:none; }

/* --- EXISTING CAROUSEL + other styles (kept from your main.css) --- */
#drag-container, #spin-container {
  position: relative;
  position: relative;
  display: flex;
  margin: auto;
  transform-style: preserve-3d;
  transform-origin: 50% 50%;
  z-index: 100;
  transition: transform 0.3s ease-out;
  cursor: grab;
}
#drag-container {
  perspective: 1200px;
  transform-style: preserve-3d;
}

#drag-container.hidden{ display:none }
#drag-container img, #drag-container video{
  transform-style: preserve-3d;
  position:absolute;
  left:0;
  object-fit:cover;
  width:86px;height:124px;
  top:0;
  line-height:200px;font-size:50px;text-align:center;
  box-shadow:0 0 8px #fff;border:4px solid #fff;border-top-left-radius:30px;border-top-right-radius:30px;
  animation: delayShadow 1s forwards;
  animation-delay:2s;
}
@keyframes delayShadow{ to{ box-shadow: rgb(0 0 0 / 0%) 1px 4px 7px, rgb(0 0 0 / 27%) 1px 3px 6px } }
#drag-container img:hover{ box-shadow:0 0 15px #fffd }
#drag-container p{ line-height:116px; position:absolute; top:100%; left:50%; transform:translate(-50%,-50%) rotateX(90deg); color:#fff; animation: fadein 15s ease }
@keyframes fadein { from{ opacity:0 } to{ opacity:1 } }

.button{ height:121px; padding:10px 30px; background:url('./images/Message.png'); background-size:contain; background-repeat:no-repeat; background-position:center; border-radius:20px; cursor:pointer; outline:none; border:none; position:absolute; top:13%; left:24%; opacity:0; animation:showUp 1s forwards; animation-delay:5s }
.button:hover{ transform:scale(2.1) }
@keyframes showUp{ to{ opacity:1 } }

#ground{ width:900px;height:900px; position:absolute; top:100%; left:50%; transform: translate(-50%,-50%) rotateX(90deg); background: radial-gradient(circle at center, rgba(153,153,153,0.2), transparent 60%) }

p{ font-weight:600; font-size:4vw; text-align:center }

/* Responsiveness */
@media (max-width:658px){
  p{ font-size:12vw }
  .gift{ width:160px; height:160px }
  .lid{ width:180px; height:44px }
  .ribbon.horizontal{ width:180px }
}

/* === Fix auto spin === */
#spin-container.auto-spin {
  animation: spin 60s infinite linear;
  animation-play-state: running;
}

@keyframes spin {
  from { transform: rotateY(0deg); }
  to { transform: rotateY(360deg); }
}

@keyframes spinRevert {
  from { transform: rotateY(360deg); }
  to { transform: rotateY(0deg); }
}

/* === Cinematic zoom + glow pulse === */
@keyframes zoomOutReveal {
  from { transform: scale(1.15) rotateX(-10deg); opacity: 0.8; }
  to   { transform: scale(1)   rotateX(-10deg); opacity: 1; }
}

#drag-container.reveal-zoom {
  animation: zoomOutReveal 2.2s cubic-bezier(0.25, 1, 0.3, 1) forwards;
}

@keyframes glowPulse {
  0%   { text-shadow: 0 0 0px #fff; }
  40%  { text-shadow: 0 0 18px #ff8ef5, 0 0 36px #ffb2f0; color: #ffe5ff; }
  100% { text-shadow: 0 0 4px #fff; color: #ffffff; }
}

#drag-container p.glow {
  animation: glowPulse 2s ease-in-out forwards;
}


/* === Balloons Floating Animation === */
#balloon-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
  z-index: 20;
}

.balloon {
  position: absolute;
  bottom: -120px;
  width: 40px;
  height: 55px;
  background: radial-gradient(circle at 35% 25%, #fff7f7, var(--balloon-color));
  border-radius: 50% 50% 45% 55%;
  box-shadow: inset -3px -8px 10px rgba(0,0,0,0.15);
  animation: floatUp linear infinite;
}
.balloon::after {
  content: '';
  position: absolute;
  width: 2px;
  height: 60px;
  background: rgba(255,255,255,0.5);
  left: 50%;
  top: 100%;
  transform: translateX(-50%);
}

@keyframes floatUp {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(-110vh) rotate(8deg);
    opacity: 0.8;
  }
}




/* === Birthday Page Reveal === */
#birthday-page {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at center, #ffb6c1, #ff69b4, #c71585);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  color: white;
  text-align: center;
  opacity: 0;
  visibility: hidden;
  z-index: 9999;
  transition: opacity 1s ease, visibility 1s ease;
  overflow: hidden;
}
#birthday-page.active {
  opacity: 1;
  visibility: visible;
}

/* === Fix Birthday Page Alignment === */
.birthday-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  gap: 20px;
  width: 100%;
  max-width: 700px;
  margin: 0 auto;
}

/* Ensure title stays centered */
.birthday-title {
  width: 100%;
  text-align: center;
}

/* Keep flip-card centered horizontally */
.flip-card {
  margin: 0 auto;
  display: flex;
  justify-content: center;
}

/* Buttons aligned nicely below */
#flipBtn, .back-btn {
  display: inline-block;
  margin: 15px 10px 0 10px;
}

.birthday-content {
  animation: fadeInUp 1.8s ease forwards;
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(60px); }
  to { opacity: 1; transform: translateY(0); }
}

.birthday-title {
  font-family: 'Pacifico', cursive;
  font-size: 3em;
  color: #fff;
  text-shadow: 0 0 25px #ffccff, 0 0 45px #ff66cc;
  margin-bottom: 20px;
  animation: glowPulseText 3s ease-in-out infinite;
}
@keyframes glowPulseText {
  0%,100% { text-shadow: 0 0 10px #fff, 0 0 20px #ff66cc; }
  50% { text-shadow: 0 0 25px #fff, 0 0 60px #ff99ff; }
}

.birthday-photo {
  width: 280px;
  height: 400px;
  object-fit: cover;
  border-radius: 20px;
  box-shadow: 0 0 25px rgba(255,255,255,0.8);
  border: 3px solid #fff;
  margin: 10px 0 20px 0;
  animation: photoFloat 5s ease-in-out infinite;
}
@keyframes photoFloat {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

.birthday-message {
  font-size: 1.4em;
  line-height: 1.6em;
  margin: 0 20px;
  animation: typeIn 5s steps(60) 1 forwards;
  opacity: 0;
}
@keyframes typeIn {
  from { width: 0; opacity: 1; }
  to { width: 100%; opacity: 1; }
}

.back-btn {
  background: linear-gradient(90deg, #ff66cc, #ff99ff);
  border: none;
  color: white;
  font-weight: 600;
  font-size: 1.1em;
  padding: 12px 30px;
  border-radius: 30px;
  margin-top: 25px;
  cursor: pointer;
  box-shadow: 0 0 15px rgba(255,255,255,0.3);
  transition: transform 0.3s ease, background 0.4s ease;
}
.back-btn:hover {
  transform: scale(1.1);
  background: linear-gradient(90deg, #ff99ff, #ff66cc);
}

/* Floating hearts background */
#birthday-page::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url('https://cdn.jsdelivr.net/gh/Amritesh01/assets/heart-pattern.svg');
  opacity: 0.08;
  animation: slowDrift 25s linear infinite;
}
@keyframes slowDrift {
  from { transform: translateY(0); }
  to { transform: translateY(-10%); }
}



/* === Flip Card Surprise (Left-Right flip version) === */
.flip-card {
  perspective: 1200px;
  position: relative;
  display: inline-block;
}
.flip-inner {
  position: relative;
  width: 300px;
  height: 450px;
  transform-style: preserve-3d;
  transition: transform 1s ease;
}
.flip-card.flipped .flip-inner {
  transform: rotateY(180deg); /* ⬅ changed from rotateX to rotateY */
}

/* front + back faces */
.flip-front, .flip-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  top: 0;
  left: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}
.flip-back {
  transform: rotateY(180deg); /* ⬅ horizontal flip */
}

/* adjust images inside flip */
.flip-card img {
  width: 260px;
  height: 400px;
  object-fit: cover;
  border-radius: 20px;
  box-shadow: 0 0 25px rgba(255,255,255,0.8);
  border: 3px solid #fff;
  margin-bottom: 14px;
  animation: photoFloat 5s ease-in-out infinite;
}

/* messages */
.flip-card .birthday-message {
  font-size: 1.2em;
  line-height: 1.4em;
  color: #fff;
  text-align: center;
  margin: 0 10px;
}

/* Flip hint button */
.flip-btn {
  margin-top: 40px;
  padding: 10px 24px;
  font-size: 1.1em;
  background: linear-gradient(90deg,#ff66cc,#ff99ff);
  border: none;
  border-radius: 30px;
  color: #fff;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 0 15px rgba(255,255,255,0.3);
  opacity: 0;
  visibility: hidden;
  transition: opacity .6s ease, visibility .6s ease;
}
.flip-btn.show {
  opacity: 1;
  visibility: visible;
}
.flip-btn:active {
  transform: scale(0.96);
}

/* Responsive scaling */
@media (max-width: 650px) {
  .flip-inner { width: 220px; height: 300px; }
  .flip-card img { width: 200px; height: 200px; }
  .flip-card .birthday-message { font-size: 1em; }
}



/* === MOBILE RESPONSIVENESS === */
@media (max-width: 768px) {
  .birthday-title {
    font-size: 2.2em;
    margin-bottom: 12px;
  }

  .flip-card {
    transform: scale(0.9);
  }

  .flip-inner {
    width: 220px;
    height: 300px;
  }

  .flip-card img {
    width: 200px;
    height: 260px; /* slightly taller for better view */
  }

  .birthday-message {
    font-size: 1em;
    line-height: 1.5em;
    margin: 0 8px;
  }

  #flipBtn, .back-btn {
    font-size: 0.95em;
    padding: 10px 18px;
    margin: 12px 4px 0 4px; /* smaller gap for phones */
  }
}

/* === EXTRA SMALL DEVICES (Phones under 480px) === */
@media (max-width: 480px) {
  .birthday-title {
    font-size: 1.8em;
    line-height: 1.3em;
  }

  .flip-inner {
    width: 180px;
    height: 250px;
  }

  .flip-card img {
    width: 170px;
    height: 220px;
  }

  .birthday-message {
    font-size: 0.9em;
  }

  #flipBtn, .back-btn {
    width: 80%;
    margin: 10px auto;
    display: block;
  }
}


/* Floating hint above the carousel */
.carousel-hint {
  position: fixed;
  top: 6%;
  left: 50%;
  transform: translateX(-50%);
  color: #ffe5ff;
  font-family: 'Pacifico', cursive;
  font-size: 1.8em;
  text-shadow: 0 0 10px #ff66cc, 0 0 20px #ff99ff;
  z-index: 1000;
  opacity: 0;
  animation: fadeInHint 2s ease forwards 2s, pulseHint 2s ease-in-out infinite 2s;
  pointer-events: none;
}

@keyframes fadeInHint {
  from { opacity: 0; transform: translateX(-50%) translateY(-10px); }
  to { opacity: 1; transform: translateX(-50%) translateY(0); }
}

@keyframes pulseHint {
  0%, 100% { transform: translateX(-50%) scale(1); }
  50% { transform: translateX(-50%) scale(1.08); }
}

@media (max-width: 650px) {
  .carousel-hint {
    font-size: 1.2em;
    top: 8%;
  }
}





/* ===== Typing Wishes Screen ===== */
#wish-screen {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at center, #2a0a29, #160412);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 900;
  color: #fff;
  font-family: 'Dancing Script', cursive;
  font-size: 2em;
  text-align: center;
  opacity: 0;
  visibility: hidden;
  transition: opacity 1s ease, visibility 1s ease;
}

#wish-screen.show {
  opacity: 1;
  visibility: visible;
}

#wish-text {
  width: 80%;
  max-width: 600px;
  white-space: nowrap;
  overflow: hidden;
  border-right: 3px solid #ff99cc;
  animation: blinkCursor 0.8s steps(1) infinite;
  text-shadow: 0 0 15px #ff99cc, 0 0 35px #ff66cc;
}

@keyframes blinkCursor {
  50% { border-color: transparent; }
}

/* small screens */
@media (max-width: 600px) {
  #wish-text {
    font-size: 1.5em;
  }
}


/* ✨ Sparkling lights behind the typing message */
.wish-sparkles {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 10% 30%, rgba(255,255,255,0.05), transparent 10%),
    radial-gradient(circle at 70% 80%, rgba(255,255,255,0.06), transparent 10%),
    radial-gradient(circle at 90% 40%, rgba(255,200,255,0.08), transparent 12%),
    radial-gradient(circle at 40% 20%, rgba(255,255,255,0.05), transparent 8%);
  background-size: 200% 200%;
  animation: sparkleDrift 18s linear infinite;
  filter: blur(2px);
  z-index: 0;
}

#wish-text {
  position: relative;
  z-index: 2;
}

@keyframes sparkleDrift {
  0%   { background-position: 0% 0%; }
  50%  { background-position: 100% 100%; }
  100% { background-position: 0% 0%; }
}
