@import url('https://fonts.googleapis.com/css2?family=Amita:wght@400;700&family=Pacifico&display=swap');

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;touch-action:none}
* {
  -webkit-user-select: none;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
}
body{
  font-family:"Pacifico",sans-serif;
  background: radial-gradient(ellipse at center, #2a0a29 0%, #160412 60%);
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  perspective:1000px;
  color:#fff;
}

/* --- COVER + GIFT --- */
.cover{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:999;
  pointer-events:auto;
}

.sparkles{
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at 10% 20%, rgba(255,255,255,0.03), transparent 8%),
    radial-gradient(circle at 80% 70%, rgba(255,255,255,0.02), transparent 10%);
  animation: slowShift 12s linear infinite;
  filter: blur(2px);
  z-index:0;
}
@keyframes slowShift{ from{transform:translateY(-3%)} to{transform:translateY(3%)} }

.gift-container{
  z-index:2;
  text-align:center;
  transform-style:preserve-3d;
}

.hint{
  margin-top:18px;
  font-size:18px;
  opacity:.92;
  color: #ffd9ea;
  text-shadow: 0 3px 12px rgba(0,0,0,0.6);
}

/* Gift build (simple cube + lid + ribbons + bow) */
.gift{
  width:200px;
  height:200px;
  position:relative;
  margin:0 auto;
  transform-style:preserve-3d;
  transform: translateZ(0);
  cursor:pointer;
  transition: transform .3s cubic-bezier(.2,.9,.3,1);
}
.gift:hover{ transform: translateY(-8px) scale(1.02) }

.box{
  position:absolute;
  width:100%;
  height:100%;
  transform-style:preserve-3d;
  transform: translateZ(-12px);
  transition: transform .5s ease;
}
.box .front, .box .left, .box .right, .box .back{
  position:absolute; width:100%; height:100%; background:linear-gradient(180deg,#ff4b5c,#b6051a);
  border:6px solid rgba(255,255,255,0.12);
  border-radius:8px;
  box-shadow: 0 18px 40px rgba(0,0,0,0.6), inset 0 -6px 18px rgba(0,0,0,0.18);
}
.box .left{ transform: rotateY(90deg) translateZ(100px); width:200px; left:-100px }
.box .right{ transform: rotateY(-90deg) translateZ(100px); width:200px; right:-100px }
.box .back{ transform: rotateY(180deg) translateZ(0px) }

/* Lid */
.lid{
  position:absolute;
  width:220px;
  height:52px;
  left:50%;
  top:-18px;
  transform: translateX(-50%) translateZ(110px);
  background:linear-gradient(180deg,#ffd28a,#ffb700);
  border-radius:8px;
  box-shadow: 0 14px 30px rgba(0,0,0,0.5), inset 0 -4px 12px rgba(0,0,0,0.12);
  transform-origin: center bottom;
  transition: transform 800ms cubic-bezier(.2,.9,.3,1), top 700ms;
  z-index:3;
  border: 4px solid rgba(255,255,255,0.16);
}

/* Ribbons and bow */
.ribbon{
  position:absolute;
  background:linear-gradient(180deg,#ffdb5e,#ff8b00);
  border-radius:2px;
  z-index:4;
}
.ribbon.horizontal{
  height:18px;width:220px;left:50%;top:92px;transform:translateX(-50%);box-shadow:0 6px 14px rgba(0,0,0,0.4)
}
.ribbon.vertical{
  width:18px;height:220px;left:96px;top: -10px;transform:translateZ(120px)
}
.bow{
  position:absolute;left:50%;top:12px;transform:translateX(-50%) translateZ(140px);
  width:44px;height:44px;border-radius:50%;
  background: radial-gradient(circle at 35% 25%, #fff6c9 0%, #ffdb5e 12%, #ff8b00 70%);
  box-shadow:0 8px 20px rgba(0,0,0,0.45);
  z-index:5;
}

/* Idle glow & bounce */
.gift{ animation: idleFloat 2.6s ease-in-out infinite; }
@keyframes idleFloat {
  0%{ transform: translateY(0) }
  50%{ transform: translateY(-6px) scale(1.01) }
  100%{ transform: translateY(0) }
}

/* Opening states */
.gift.open .lid{
  transform: translateX(-50%) translateZ(160px) rotateX(-65deg) rotateY(-6deg);
  top:-56px;
}
.gift.open .box{ transform: translateZ(-28px) scale(.98) }

/* Fade out the cover after reveal */
.cover.fade-out{
  animation: coverFade .8s ease forwards;
  pointer-events:none;
}
@keyframes coverFade{ to{ opacity:0; visibility:hidden } }

/* Confetti overlay adjustments */
canvas#canvas{ position:fixed; inset:0; z-index:50; pointer-events:none; }

/* --- EXISTING CAROUSEL + other styles (kept from your main.css) --- */
#drag-container, #spin-container {
  position: relative;
  position: relative;
  display: flex;
  margin: auto;
  transform-style: preserve-3d;
  transform-origin: 50% 50%;
  z-index: 100;
  transition: transform 0.3s ease-out;
  cursor: grab;
}
#drag-container {
  perspective: 1200px;
  transform-style: preserve-3d;
}

#drag-container.hidden{ display:none }
#drag-container img, #drag-container video{
  transform-style: preserve-3d;
  position:absolute;
  left:0;
  object-fit:cover;
  width:86px;height:124px;
  top:0;
  line-height:200px;font-size:50px;text-align:center;
  box-shadow:0 0 8px #fff;border:4px solid #fff;border-top-left-radius:30px;border-top-right-radius:30px;
  animation: delayShadow 1s forwards;
  animation-delay:2s;
}
@keyframes delayShadow{ to{ box-shadow: rgb(0 0 0 / 0%) 1px 4px 7px, rgb(0 0 0 / 27%) 1px 3px 6px } }
#drag-container img:hover{ box-shadow:0 0 15px #fffd }
#drag-container p{ line-height:116px; position:absolute; top:100%; left:50%; transform:translate(-50%,-50%) rotateX(90deg); color:#fff; animation: fadein 15s ease }
@keyframes fadein { from{ opacity:0 } to{ opacity:1 } }

.button{ height:121px; padding:10px 30px; background:url('./images/Message.png'); background-size:contain; background-repeat:no-repeat; background-position:center; border-radius:20px; cursor:pointer; outline:none; border:none; position:absolute; top:13%; left:24%; opacity:0; animation:showUp 1s forwards; animation-delay:5s }
.button:hover{ transform:scale(2.1) }
@keyframes showUp{ to{ opacity:1 } }

#ground{ width:900px;height:900px; position:absolute; top:100%; left:50%; transform: translate(-50%,-50%) rotateX(90deg); background: radial-gradient(circle at center, rgba(153,153,153,0.2), transparent 60%) }

p{ font-weight:600; font-size:4vw; text-align:center }

/* Responsiveness */
@media (max-width:658px){
  p{ font-size:12vw }
  .gift{ width:160px; height:160px }
  .lid{ width:180px; height:44px }
  .ribbon.horizontal{ width:180px }
}

/* === Fix auto spin === */
#spin-container.auto-spin {
  animation: spin 60s infinite linear;
  animation-play-state: running;
}

@keyframes spin {
  from { transform: rotateY(0deg); }
  to { transform: rotateY(360deg); }
}

@keyframes spinRevert {
  from { transform: rotateY(360deg); }
  to { transform: rotateY(0deg); }
}

/* === Cinematic zoom + glow pulse === */
@keyframes zoomOutReveal {
  from { transform: scale(1.15) rotateX(-10deg); opacity: 0.8; }
  to   { transform: scale(1)   rotateX(-10deg); opacity: 1; }
}

#drag-container.reveal-zoom {
  animation: zoomOutReveal 2.2s cubic-bezier(0.25, 1, 0.3, 1) forwards;
}

@keyframes glowPulse {
  0%   { text-shadow: 0 0 0px #fff; }
  40%  { text-shadow: 0 0 18px #ff8ef5, 0 0 36px #ffb2f0; color: #ffe5ff; }
  100% { text-shadow: 0 0 4px #fff; color: #ffffff; }
}

#drag-container p.glow {
  animation: glowPulse 2s ease-in-out forwards;
}

